
path = /scratch/rabin/data/code2vec/transforms/Methods_Test/java-large/test/MKergall__osmbonuspack/OSMBonusPackTuto/src/main/java/com/example/osmbonuspacktuto/MainActivity_onCreate.java
method_name = onCreate
method_body = @Override protected void onCreate(Bundle savedInstanceState) { StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build(); StrictMode.setThreadPolicy(policy); super.onCreate(savedInstanceState); setContentView(R.layout.main); map = (MapView) findViewById(R.id.map); map.setBuiltInZoomControls(true); map.setMultiTouchControls(true); GeoPoint startPoint = new GeoPoint(48.13, -1.63); IMapController mapController = map.getController(); mapController.setZoom(10.0); mapController.setCenter(startPoint); Marker startMarker = new Marker(map); startMarker.setPosition(startPoint); startMarker.setAnchor(Marker.ANCHOR_CENTER, Marker.ANCHOR_BOTTOM); startMarker.setTitle("Start point"); startMarker.setDraggable(true); startMarker.setOnMarkerDragListener(new OnMarkerDragListenerDrawer()); map.getOverlays().add(startMarker); RoadManager roadManager = new OSRMRoadManager(this); ArrayList<GeoPoint> waypoints = new ArrayList<GeoPoint>(); waypoints.add(startPoint); GeoPoint endPoint = new GeoPoint(48.4, -1.9); waypoints.add(endPoint); Road road = roadManager.getRoad(waypoints); if (road.mStatus != Road.STATUS_OK) Toast.makeText(this, "Error when loading the road - status=" + road.mStatus, Toast.LENGTH_SHORT).show(); Polyline roadOverlay = RoadManager.buildRoadOverlay(road); map.getOverlays().add(roadOverlay); FolderOverlay roadMarkers = new FolderOverlay(); map.getOverlays().add(roadMarkers); Drawable nodeIcon = ResourcesCompat.getDrawable(getResources(), R.drawable.marker_node, null); for (int i = 0; i < road.mNodes.size(); i++) { RoadNode node = road.mNodes.get(i); Marker nodeMarker = new Marker(map); nodeMarker.setPosition(node.mLocation); nodeMarker.setIcon(nodeIcon); nodeMarker.setTitle("Step " + i); nodeMarker.setSnippet(node.mInstructions); nodeMarker.setSubDescription(Road.getLengthDurationText(this, node.mLength, node.mDuration)); Drawable iconContinue = ResourcesCompat.getDrawable(getResources(), R.drawable.ic_continue, null); nodeMarker.setImage(iconContinue); roadMarkers.add(nodeMarker); } NominatimPOIProvider poiProvider = new NominatimPOIProvider("OsmNavigator/1.0"); ArrayList<POI> pois = poiProvider.getPOICloseTo(startPoint, "cinema", 50, 0.1); RadiusMarkerClusterer poiMarkers = new RadiusMarkerClusterer(this); Drawable clusterIconD = ResourcesCompat.getDrawable(getResources(), R.drawable.marker_poi_cluster, null); Bitmap clusterIcon = ((BitmapDrawable) clusterIconD).getBitmap(); poiMarkers.setIcon(clusterIcon); poiMarkers.getTextPaint().setTextSize(12 * getResources().getDisplayMetrics().density); poiMarkers.mAnchorV = Marker.ANCHOR_BOTTOM; poiMarkers.mTextAnchorU = 0.70f; poiMarkers.mTextAnchorV = 0.27f; map.getOverlays().add(poiMarkers); Drawable poiIcon = ResourcesCompat.getDrawable(getResources(), R.drawable.marker_poi_default, null); if (pois != null) { for (POI poi : pois) { Marker poiMarker = new Marker(map); poiMarker.setTitle(poi.mType); poiMarker.setSnippet(poi.mDescription); poiMarker.setPosition(poi.mLocation); poiMarker.setIcon(poiIcon); if (poi.mThumbnail != null) { poiMarker.setImage(new BitmapDrawable(getResources(), poi.mThumbnail)); } poiMarker.setInfoWindow(new CustomInfoWindow(map)); poiMarker.setRelatedObject(poi); poiMarkers.add(poiMarker); } } mKmlDocument = new KmlDocument(); OverpassAPIProvider overpassProvider = new OverpassAPIProvider(); BoundingBox oBB = new BoundingBox(startPoint.getLatitude() + 0.25, startPoint.getLongitude() + 0.25, startPoint.getLatitude() - 0.25, startPoint.getLongitude() - 0.25); String oUrl = overpassProvider.urlForTagSearchKml("highway=speed_camera", oBB, 500, 30); boolean ok = overpassProvider.addInKmlFolder(mKmlDocument.mKmlRoot, oUrl); if (ok) { Drawable defaultMarker = ResourcesCompat.getDrawable(getResources(), R.drawable.marker_kml_point, null); Bitmap defaultBitmap = ((BitmapDrawable) defaultMarker).getBitmap(); Style defaultStyle = new Style(defaultBitmap, 0x901010AA, 3.0f, 0x20AA1010); KmlFeature.Styler styler = new MyKmlStyler(defaultStyle); FolderOverlay kmlOverlay = (FolderOverlay) mKmlDocument.mKmlRoot.buildOverlay(map, defaultStyle, styler, mKmlDocument); map.getOverlays().add(kmlOverlay); BoundingBox bb = mKmlDocument.mKmlRoot.getBoundingBox(); if (bb != null) { setInitialViewOn(bb); } } else Toast.makeText(this, "Error when loading KML", Toast.LENGTH_SHORT).show(); if (mKmlDocument.mKmlRoot != null) { KmlFolder root = mKmlDocument.mKmlRoot; root.addOverlay(roadOverlay, mKmlDocument); root.addOverlay(roadMarkers, mKmlDocument); mKmlDocument.saveAsKML(mKmlDocument.getDefaultPathForAndroid("my_route.kml")); mKmlDocument.saveAsGeoJSON(mKmlDocument.getDefaultPathForAndroid("my_route.json")); } MapEventsOverlay mapEventsOverlay = new MapEventsOverlay(this); map.getOverlays().add(0, mapEventsOverlay); }

topk path-contexts for sub-token: on
[0.4185] saved|instance|state,VariableDeclaratorId0|Parameter|MethodDeclaration|BlockStmt|ExpressionStmt|VariableDeclarationExpr|VariableDeclarator|MethodCallExpr1|IntegerLiteralExpr3,<NUM>
[0.1937] saved|instance|state,VariableDeclaratorId0|Parameter|MethodDeclaration|BlockStmt|IfStmt|NameExpr0,ok
[0.0735] saved|instance|state,VariableDeclaratorId0|Parameter|MethodDeclaration|BlockStmt|ExpressionStmt|VariableDeclarationExpr|VariableDeclarator|VariableDeclaratorId0,poi|provider
[0.0730] saved|instance|state,VariableDeclaratorId0|Parameter|MethodDeclaration|BlockStmt|ExpressionStmt|MethodCallExpr0|FieldAccessExpr2|NameExpr0,marker
[0.0578] saved|instance|state,VariableDeclaratorId0|Parameter|MethodDeclaration|BlockStmt|ExpressionStmt|VariableDeclarationExpr|VariableDeclarator|VariableDeclaratorId0,node|icon
[0.0382] saved|instance|state,VariableDeclaratorId0|Parameter|MethodDeclaration|BlockStmt|IfStmt|BlockStmt|ExpressionStmt|MethodCallExpr0|NameExpr0,m|kml|document
[0.0372] saved|instance|state,VariableDeclaratorId0|Parameter|MethodDeclaration|BlockStmt|ForStmt|BinaryExpr:less|MethodCallExpr1|FieldAccessExpr0|NameExpr2,m|nodes
[0.0275] saved|instance|state,VariableDeclaratorId0|Parameter|MethodDeclaration|BlockStmt|ExpressionStmt|VariableDeclarationExpr|VariableDeclarator|ObjectCreationExpr|DoubleLiteralExpr1,.
[0.0099] bundle,ClassOrInterfaceType1|Parameter|MethodDeclaration|BlockStmt|ExpressionStmt|MethodCallExpr0|BooleanLiteralExpr2,true
[0.0093] saved|instance|state,VariableDeclaratorId0|Parameter|MethodDeclaration|BlockStmt|ExpressionStmt|VariableDeclarationExpr|VariableDeclarator|MethodCallExpr1|NameExpr3,get|drawable

topk terminals for sub-token: on
['saved|instance|state', '<NUM>', 'saved|instance|state', 'ok', 'saved|instance|state', 'poi|provider', 'saved|instance|state', 'marker', 'saved|instance|state', 'node|icon', 'saved|instance|state', 'm|kml|document', 'saved|instance|state', 'm|nodes', 'saved|instance|state', '.', 'bundle', 'true', 'saved|instance|state', 'get|drawable']

topk path-contexts for sub-token: create
[0.1955] bundle,ClassOrInterfaceType1|Parameter|MethodDeclaration|BlockStmt|ExpressionStmt|VariableDeclarationExpr|VariableDeclarator|ObjectCreationExpr|ThisExpr1,this
[0.0856] saved|instance|state,VariableDeclaratorId0|Parameter|MethodDeclaration|BlockStmt|ExpressionStmt|VariableDeclarationExpr|VariableDeclarator|MethodCallExpr1|IntegerLiteralExpr3,<NUM>
[0.0443] bundle,ClassOrInterfaceType1|Parameter|MethodDeclaration|BlockStmt|ExpressionStmt|VariableDeclarationExpr|VariableDeclarator|VariableDeclaratorId0,road
[0.0394] road|markers,NameExpr2|MethodCallExpr|ExpressionStmt|BlockStmt|ExpressionStmt|MethodCallExpr0|NameExpr3,save|as|kml
[0.0372] bundle,ClassOrInterfaceType1|Parameter|MethodDeclaration|BlockStmt|ExpressionStmt|MethodCallExpr0|NameExpr3,add
[0.0310] saved|instance|state,VariableDeclaratorId0|Parameter|MethodDeclaration|BlockStmt|ForStmt|BinaryExpr:less|MethodCallExpr1|FieldAccessExpr0|NameExpr2,m|nodes
[0.0296] saved|instance|state,VariableDeclaratorId0|Parameter|MethodDeclaration|BlockStmt|IfStmt|BlockStmt|ExpressionStmt|MethodCallExpr0|NameExpr0,m|kml|document
[0.0288] bundle,ClassOrInterfaceType1|Parameter|MethodDeclaration|BlockStmt|ExpressionStmt|MethodCallExpr0|BooleanLiteralExpr2,true
[0.0284] set|thread|policy,NameExpr3|MethodCallExpr|ExpressionStmt|BlockStmt|ExpressionStmt|MethodCallExpr0|NameExpr3,on|create
[0.0276] bundle,ClassOrInterfaceType1|Parameter|MethodDeclaration|BlockStmt|ForStmt|BinaryExpr:less|MethodCallExpr1|FieldAccessExpr0|NameExpr0,road

topk terminals for sub-token: create
['bundle', 'this', 'saved|instance|state', '<NUM>', 'bundle', 'road', 'road|markers', 'save|as|kml', 'bundle', 'add', 'saved|instance|state', 'm|nodes', 'saved|instance|state', 'm|kml|document', 'bundle', 'true', 'set|thread|policy', 'on|create', 'bundle', 'road']

