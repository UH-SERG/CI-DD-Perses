
path = /scratch/rabin/data/code2vec/transforms/Methods_Test/java-large/test/codefollower__Tomcat-Research/test/org/apache/catalina/tribes/demos/LoadTest_main.java
method_name = main
method_body = public static void main(String[] args) throws Exception { boolean send = true; boolean debug = false; long pause = 0; int count = 1000000; int stats = 10000; boolean breakOnEx = false; int threads = 1; boolean shutdown = false; int startoptions = Channel.DEFAULT; int channelOptions = Channel.SEND_OPTIONS_DEFAULT; if (args.length == 0) { args = new String[] { "-help" }; } for (int i = 0; i < args.length; i++) { if ("-threads".equals(args[i])) { threads = Integer.parseInt(args[++i]); } else if ("-count".equals(args[i])) { count = Integer.parseInt(args[++i]); System.out.println("Sending " + count + " messages."); } else if ("-pause".equals(args[i])) { pause = Long.parseLong(args[++i]) * 1000; } else if ("-break".equals(args[i])) { breakOnEx = true; } else if ("-shutdown".equals(args[i])) { shutdown = true; } else if ("-stats".equals(args[i])) { stats = Integer.parseInt(args[++i]); System.out.println("Stats every " + stats + " message"); } else if ("-sendoptions".equals(args[i])) { channelOptions = Integer.parseInt(args[++i]); System.out.println("Setting send options to " + channelOptions); } else if ("-startoptions".equals(args[i])) { startoptions = Integer.parseInt(args[++i]); System.out.println("Setting start options to " + startoptions); } else if ("-size".equals(args[i])) { size = Integer.parseInt(args[++i]) - 4; System.out.println("Message size will be:" + (size + 4) + " bytes"); } else if ("-mode".equals(args[i])) { if ("receive".equals(args[++i])) send = false; } else if ("-debug".equals(args[i])) { debug = true; } else if ("-help".equals(args[i])) { usage(); System.exit(1); } } ManagedChannel channel = (ManagedChannel) ChannelCreator.createChannel(args); LoadTest test = new LoadTest(channel, send, count, debug, pause, stats, breakOnEx); test.channelOptions = channelOptions; LoadMessage msg = new LoadMessage(); messageSize = LoadMessage.getMessageSize(msg); channel.addChannelListener(test); channel.addMembershipListener(test); channel.start(startoptions); Runtime.getRuntime().addShutdownHook(new Shutdown(channel)); while (threads > 1) { Thread t = new Thread(test); t.setDaemon(true); t.start(); threads--; test = new LoadTest(channel, send, count, debug, pause, stats, breakOnEx); test.channelOptions = channelOptions; } test.run(); if (shutdown && send) channel.stop(Channel.DEFAULT); System.out.println("System test complete, sleeping to let threads finish."); Thread.sleep(60 * 1000 * 60); }

topk path-contexts for sub-token: main
[0.0759] exception,ClassOrInterfaceType3|MethodDeclaration|BlockStmt|ExpressionStmt|VariableDeclarationExpr|VariableDeclarator|FieldAccessExpr1|NameExpr0,channel
[0.0690] args,VariableDeclaratorId0|Parameter|MethodDeclaration|BlockStmt|ExpressionStmt|VariableDeclarationExpr|ClassOrInterfaceType0,managed|channel
[0.0542] args,VariableDeclaratorId0|Parameter|MethodDeclaration|BlockStmt|ExpressionStmt|VariableDeclarationExpr|VariableDeclarator|VariableDeclaratorId0,stats
[0.0468] add|shutdown|hook,NameExpr3|MethodCallExpr|ExpressionStmt|BlockStmt|WhileStmt|BlockStmt|ExpressionStmt|VariableDeclarationExpr|ClassOrInterfaceType0,thread
[0.0391] args,VariableDeclaratorId0|Parameter|MethodDeclaration|BlockStmt|WhileStmt|BlockStmt|ExpressionStmt|MethodCallExpr0|NameExpr0,t
[0.0374] add|shutdown|hook,NameExpr3|MethodCallExpr|ExpressionStmt|BlockStmt|WhileStmt|BlockStmt|ExpressionStmt|MethodCallExpr0|NameExpr0,t
[0.0222] args,VariableDeclaratorId0|Parameter|MethodDeclaration|BlockStmt|ExpressionStmt|VariableDeclarationExpr|VariableDeclarator|ObjectCreationExpr|ClassOrInterfaceType0,load|message
[0.0221] channel|options,VariableDeclaratorId0|VariableDeclarator|FieldAccessExpr1|NameExpr0,channel
[0.0212] equals,NameExpr3|MethodCallExpr|IfStmt|BlockStmt|ExpressionStmt|MethodCallExpr0|BinaryExpr:plus|BinaryExpr:plus|StringLiteralExpr0,sending
[0.0206] args,NameExpr0|ArrayAccessExpr2|UnaryExpr:preIncrement|NameExpr0,i

topk terminals for sub-token: main
['exception', 'channel', 'args', 'managed|channel', 'args', 'stats', 'add|shutdown|hook', 'thread', 'args', 't', 'add|shutdown|hook', 't', 'args', 'load|message', 'channel|options', 'channel', 'equals', 'sending', 'args', 'i']

